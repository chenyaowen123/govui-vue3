"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),f=require("../icon/icon.vue.js"),g={class:"gov-backtop__default"},b=Object.assign({name:"GovBacktop"},{__name:"backtop",props:{visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:[Number,String],default:40},bottom:{type:[Number,String],default:40},zIndex:{type:Number,default:2e3},appendToBody:{type:Boolean,default:!0}},emits:["backtop"],setup(u,{emit:d}){const o=u,r=e.ref(!1),n=e.ref(null),l=e.ref(null),p=d,s=()=>{n.value===window?r.value=window.scrollY>=o.visibilityHeight:r.value=n.value.scrollTop>=o.visibilityHeight},v=()=>{n.value===window?window.scrollTo({top:0,behavior:"smooth"}):n.value.scrollTo({top:0,behavior:"smooth"}),p("backtop")},a=()=>{typeof window.requestAnimationFrame=="function"&&requestAnimationFrame(s)};function c(t){return t&&t.tagName!=="BODY"&&t.tagName!=="HTML"?t.scrollHeight>t.clientHeight?t:c(t.parentElement):null}e.onMounted(()=>{var i;const t=o.target?document.querySelector(o.target):c((i=l.value)==null?void 0:i.parentElement);t?(n.value=t,t.addEventListener("scroll",a)):(n.value=window,window.addEventListener("scroll",a)),s(),o.appendToBody&&l.value&&document.body.appendChild(l.value)}),e.onBeforeUnmount(()=>{n.value===window?window.removeEventListener("scroll",a):n.value.removeEventListener("scroll",a),o.appendToBody&&l.value&&document.body.removeChild(l.value)});const m=e.computed(()=>({right:`${parseInt(o.right)}px`,bottom:`${parseInt(o.bottom)}px`,zIndex:o.zIndex}));return(t,i)=>(e.openBlock(),e.createBlock(e.Transition,{name:"gov-backtop-fade-in"},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{style:e.normalizeStyle(m.value),class:"gov-backtop",onClick:e.withModifiers(v,["stop"]),ref_key:"govBacktopRef",ref:l},[e.renderSlot(t.$slots,"default",{},()=>[e.createElementVNode("div",g,[e.createVNode(f.default,{name:"arrow-up"})])])],4),[[e.vShow,r.value]])]),_:3}))}});exports.default=b;
