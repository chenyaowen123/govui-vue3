"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),S=require("./useManageFieldToForm.js"),h=require("./useState.js"),V=require("./useValidation.js"),$=require("./listenerManager.js"),y=require("../../grid/col/index.vue.js"),N={key:0,class:"gov-form-item__label-required"},F={class:"gov-form-item__label-txt"},k={class:"gov-form-item__content"},q={class:"gov-form-item__body"},M={class:"gov-form-item__validate"},B={key:0,class:"gov-form-item__validate-body"},E=Object.assign({name:"govFormItem"},{__name:"index",props:{prop:String,label:String,rules:Object,labelPosition:String,labelWidth:[String,Number],size:String,disabled:Boolean,span:{type:Number,default:24,validator:o=>o===void 0||o>=0&&o<=24}},setup(o,{expose:v}){const n=o,i=e.inject("govForm",null),{innerSize:s,innerDisabled:c,innerLabelPosition:m,innerLabelWidth:b}=h.useState(n,i),a=$.useListenerManager(),{isRequired:_,validateState:l,validateMessage:u,validate:d,clearValidate:f,resetField:g}=V.useValidation(n,i,a);S.useManageFieldToForm(n,i,{validate:d,clearValidate:f,resetField:g}),a.on("*",t=>{d(t,()=>{})}),v({validate:d,clearValidate:f,resetField:g});const p={$on(t,r){a.on(t,r)},$off(t,r){a.off(t,r)},$emit(t,r){a.emit(t,r)}};return e.provide("govFormItem",e.reactive({size:s,disabled:c,validateState:l,validateMessage:u,...p})),(t,r)=>(e.openBlock(),e.createBlock(y.default,e.mergeProps(t.$attrs,{span:o.span,class:["gov-form-item",[e.unref(s)&&`gov-form-item--size-${e.unref(s)}`,e.unref(m)&&`gov-form-item--label-${e.unref(m)}`,`is-${e.unref(l)}`,{"is-disabled":e.unref(c)}]]}),{default:e.withCtx(()=>[e.createElementVNode("div",{class:e.normalizeClass(["gov-form-item__label",{"is-empty":!o.label&&!t.$slots.label}]),style:e.normalizeStyle({width:e.unref(b)})},[e.unref(_)?(e.openBlock(),e.createElementBlock("span",N," * ")):e.createCommentVNode("",!0),e.renderSlot(t.$slots,"label",{},()=>[e.createElementVNode("span",F,e.toDisplayString(o.label),1)])],6),e.createElementVNode("div",k,[e.createElementVNode("div",q,[e.renderSlot(t.$slots,"default")]),e.createElementVNode("div",M,[e.createVNode(e.Transition,{name:"gov-form-validate-fade"},{default:e.withCtx(()=>[e.unref(l)==="error"?(e.openBlock(),e.createElementBlock("div",B,[e.renderSlot(t.$slots,"validate",{},()=>[e.createTextVNode(e.toDisplayString(e.unref(u)),1)])])):e.createCommentVNode("",!0)]),_:3})])])]),_:3},16,["span","class"]))}});exports.default=E;
