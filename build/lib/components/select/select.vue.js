"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),V=require("../input/input.vue.js"),S=require("../popper/popper.vue.js"),y=require("../icon/icon.vue.js"),C=require("../utils/useReset.js"),_={class:"gov-select__box"},w=Object.assign({name:"GovSelect"},{__name:"select",props:{modelValue:{type:[String,Number],default:void 0},size:String,placeholder:{type:String,default:"请输入"},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},popperHeight:{type:String,default:"200px"},triggerForm:{type:Boolean,default:!0}},emits:["update:modelValue","change","focus","blur","clear"],setup(n,{emit:f}){const a=n,u=e.ref(!1),s=f,i=e.ref(""),l=e.inject("govFormItem",null);C.useReset(l,a,t=>{s("update:modelValue",t)});const p=e.computed(()=>(a==null?void 0:a.size)||(l==null?void 0:l.size)),r=e.computed(()=>(a==null?void 0:a.disabled)||(l==null?void 0:l.disabled)),d=t=>{u.value=!1,s("change",t),s("update:modelValue",t.value),a.triggerForm&&(l==null||l.$emit("change"))},c=t=>{i.value=t};e.watch(()=>r.value,()=>{u.value=!1});const g=()=>{r.value||(u.value=!u.value)},h=()=>{s("focus"),a.triggerForm&&(l==null||l.$emit("focus"))},b=()=>{s("blur"),a.triggerForm&&(l==null||l.$emit("blur"))},v=()=>{u.value=!1,c(void 0),d({value:void 0,label:void 0}),s("clear"),a.triggerForm&&(l==null||l.$emit("clear"))};return e.provide("govSelect",e.reactive({...e.toRefs(a),updateInputText:c,updateValue:d})),(t,o)=>(e.openBlock(),e.createBlock(S.default,e.mergeProps({modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=m=>u.value=m),height:n.popperHeight,padding:"0"},t.$attrs,{placement:"bottom-start",class:["gov-select",[{"is-disabled":r.value}]]}),{reference:e.withCtx(()=>[e.createVNode(V.default,{class:"gov-select__input",modelValue:i.value,size:p.value,placeholder:n.placeholder,disabled:r.value,onFocus:h,onBlur:b,onClear:v,onClick:g,readonly:"",clearable:n.clearable,triggerForm:!1},{suffix:e.withCtx(()=>[e.createVNode(y.default,{name:"arrow-down",class:e.normalizeClass(["gov-select__icon",[{"is-open":u.value}]])},null,8,["class"])]),_:1},8,["modelValue","size","placeholder","disabled","clearable"])]),default:e.withCtx(()=>[e.createElementVNode("div",_,[e.renderSlot(t.$slots,"default")])]),_:3},16,["modelValue","height","class"]))}});exports.default=w;
