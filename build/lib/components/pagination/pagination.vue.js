"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),v=require("./pager.vue.js"),p=require("../select/select.vue.js"),b=require("../select/select-option.vue.js"),f=require("../input/input-number.vue.js"),V={key:0,class:"gov-pagination__total"},k={key:1,class:"gov-pagination__sizes"},N={key:2,class:"gov-pagination__jumper"},B=Object.assign({name:"GovPagination"},{__name:"pagination",props:{modelValue:{type:Number,default:1},pageSize:{type:Number,default:10},pageSizes:{type:Array,default:()=>[10,20,30,40]},disabled:Boolean,background:Boolean,plain:Boolean,total:{type:Number,default:0}},emits:["update:modelValue","update:pageSize","sizeChange","currentChange"],setup(t,{emit:s}){const o=t,u=s,i=e.ref(o.pageSize);e.watchEffect(()=>{i.value=o.pageSize}),e.watchEffect(()=>{let a=i.value;a!==o.pageSize&&(u("update:pageSize",a),u("sizeChange",a))});const r=e.computed(()=>Array.from({length:Math.ceil(o.total/i.value)},(a,l)=>l+1)),d=e.ref(o.modelValue),c=a=>(a<1&&(a=1),a>r.value.length&&(a=r.value.length),a);e.watchEffect(()=>{d.value=o.modelValue}),e.watchEffect(()=>{let a=c(d.value);a!==o.modelValue&&(u("update:modelValue",a),u("currentChange",a))});const m=()=>{o.disabled||d.value--},g=()=>{o.disabled||d.value++};return(a,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["gov-pagination",[{"is-background":t.background,"is-disabled":t.disabled}]])},[t.plain?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",V,[e.renderSlot(a.$slots,"total",{total:t.total},()=>[e.createTextVNode("共"+e.toDisplayString(t.total)+" 条记录",1)])])),t.plain?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",k,[e.createVNode(p.default,{modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=n=>i.value=n),disabled:t.disabled,clearable:!1,size:"small",style:{width:"100px"}},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.pageSizes,n=>(e.openBlock(),e.createBlock(b.default,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])])),e.createElementVNode("div",{class:"gov-pagination__prev",onClick:m},[e.renderSlot(a.$slots,"prev",{},()=>[l[3]||(l[3]=e.createTextVNode("«"))])]),e.createVNode(v.default,{pages:r.value,modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=n=>d.value=n),disabled:t.disabled,background:t.background},null,8,["pages","modelValue","disabled","background"]),e.createElementVNode("div",{class:"gov-pagination__next",onClick:g},[e.renderSlot(a.$slots,"next",{},()=>[l[4]||(l[4]=e.createTextVNode("»"))])]),t.plain?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",N,[l[5]||(l[5]=e.createTextVNode(" 跳至：")),e.createVNode(f.default,{modelValue:d.value,"onUpdate:modelValue":l[2]||(l[2]=n=>d.value=n),step:1,min:1,max:r.value.length,clearable:!1,disabled:t.disabled,size:"small",style:{width:"50px"}},null,8,["modelValue","max","disabled"]),l[6]||(l[6]=e.createTextVNode(" 页 "))]))],2))}});exports.default=B;
