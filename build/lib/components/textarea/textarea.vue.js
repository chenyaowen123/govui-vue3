"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),f=require("../utils/useReset.js"),v=["rows","placeholder","maxlength","disabled"],V={key:0,class:"gov-textarea__footer"},k={key:0},y=Object.assign({name:"GovTextarea"},{__name:"textarea",props:{modelValue:String,rows:{type:[Number,String],default:3},maxlength:[Number,String],clearable:Boolean,placeholder:String,resize:{type:Boolean,default:!0},disabled:Boolean,triggerForm:{type:Boolean,default:!0}},emits:["update:modelValue","input","change","focus","blur","clear"],setup(l,{emit:i}){const a=l,n=i,t=e.inject("govFormItem",null),o=e.computed({get(){return a.modelValue},set(r){n("update:modelValue",r),n("input"),a.triggerForm&&(t==null||t.$emit("input"))}});f.useReset(t,a,r=>{n("update:modelValue",r)});const u=e.computed(()=>(a==null?void 0:a.disabled)||(t==null?void 0:t.disabled)),d=e.computed(()=>(t==null?void 0:t.validateState)==="error"),m=e.computed(()=>o.value.length),s=e.computed(()=>a.maxlength||a.clearable),g=e.computed(()=>({paddingBottom:s.value?"20px":"10px",resize:a.resize?"both":"none"})),h=()=>{n("change",a.modelValue),a.triggerForm&&(t==null||t.$emit("change"))},p=()=>{n("focus"),a.triggerForm&&(t==null||t.$emit("focus"))},b=()=>{n("blur"),a.triggerForm&&(t==null||t.$emit("blur"))},x=()=>{o.value="",n("update:modelValue",""),n("clear")};return(r,c)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["gov-textarea",[{"is-resize":l.resize,"is-disabled":u.value,"is-error":d.value}]])},[e.withDirectives(e.createElementVNode("textarea",e.mergeProps({rows:l.rows,placeholder:l.placeholder,"onUpdate:modelValue":c[0]||(c[0]=B=>o.value=B),maxlength:l.maxlength},r.$attrs,{class:"gov-textarea__input",style:g.value,disabled:u.value,onFocus:p,onBlur:b,onChange:h}),null,16,v),[[e.vModelText,o.value]]),s.value?(e.openBlock(),e.createElementBlock("div",V,[l.maxlength?(e.openBlock(),e.createElementBlock("span",k,e.toDisplayString(m.value)+"/"+e.toDisplayString(l.maxlength),1)):e.createCommentVNode("",!0),l.clearable?(e.openBlock(),e.createElementBlock("span",{key:1,class:"gov-textarea__clear-btn",onClick:x}," 清空 ")):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],2))}});exports.default=y;
